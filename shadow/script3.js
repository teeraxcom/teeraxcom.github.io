"use strict";const insetBtn=document.querySelector("#insetBtn"),preview=document.querySelector(".preview"),labels=document.querySelectorAll("label"),codeBox=document.querySelector("#code"),hOffset=document.querySelector("#hOffset"),vOffset=document.querySelector("#vOffset"),blur=document.querySelector("#blur"),spread=document.querySelector("#spread"),color=document.querySelector("#color"),shadowBtnContainer=document.querySelector(".shadow-btn-container"),addShadow=document.querySelector(".add-shadow"),removeShadow=document.querySelector(".remove-shadow");let shadowBtns,btnNum=1,selected=0,canDelete=!1,array=[["0px","19px","28px","0px","#999999",!1]];function init(){createBtn(),updateShadowBtns(),shadowBtns[shadowBtns.length-1].classList.add("active"),updateCode()}function shadowBtnSelectorOnClick(){updateShadowBtns(),shadowBtns.forEach((a,b)=>{a.addEventListener("click",()=>{removeAllActiveClasses(),a.classList.add("active"),setSelected(b,"shadowBtnSelectorOnClick")})})}function addActiveClassToLastBtn(){updateShadowBtns(),removeAllActiveClasses(),shadowBtns[shadowBtns.length-1].classList.add("active")}function setSelected(a,b=""){selected=a}function deleteBtn(a){shadowBtns[a].remove(),resetBtnNumbers(100,a-1)}function createBtn(){let a=document.createElement("button");a.classList.add(`box-shadow-${btnNum}`),a.innerText=btnNum,shadowBtnContainer.appendChild(a)}function updateShadowBtns(){return shadowBtns=document.querySelectorAll(".shadow-btn-container button")}function resetBtnNumbers(d=100,a=0){btnNum=1;let b=a;function c(){setTimeout(()=>{shadowBtns[b].innerText=btnNum+b,++b<shadowBtns.length&&c()},d)}updateShadowBtns(),shadowBtns[b].innerText=btnNum,c()}function removeAllActiveClasses(){shadowBtns.forEach(a=>{a.classList.remove("active")})}function pushToArray(){array.push(Array.from(array[array.length-1])),updateCode(),updateShadowBtns()}function updateCode(){let a="";a="box-shadow: ",array.forEach((b,c)=>{b.forEach((e,d)=>{let b=array[c][d];!0==b?b="inset":!1==b&&(b=""),a+=b+" "}),c==array.length-1?a+=";":a+=", "}),a=(a=a.replace(/(\s\s,)+/g,",")).replace(/(\s\s;)+/g,";"),codeBox.textContent=a,applyShadow()}function removeItemFromArray(b){let a=[];return array.forEach((c,d)=>{d!=b&&a.push(c)}),updateCode(),array=a}function applyShadow(){let a="";a=(a=(a=codeBox.textContent).replace("box-shadow: ","")).replace(";",""),preview.style.boxShadow=a}init(),addShadow.addEventListener("click",()=>{createBtn(),pushToArray(),selected=array.length-1,updateShadowBtns(),removeAllActiveClasses(),setSelected(selected,"addShadow"),resetBtnNumbers(),addActiveClassToLastBtn(),shadowBtnSelectorOnClick()}),removeShadow.addEventListener("click",()=>{selected>0&&(array=removeItemFromArray(selected),updateCode(),updateShadowBtns(),deleteBtn(selected),setSelected(array.length-1,"removeShadow"),addActiveClassToLastBtn(),shadowBtnSelectorOnClick())}),hOffset.addEventListener("input",()=>{array[selected][0]=hOffset.value+"px",updateCode(),labels[0].innerHTML=hOffset.value}),vOffset.addEventListener("input",()=>{array[selected][1]=vOffset.value+"px",updateCode(),labels[1].innerHTML=vOffset.value}),blur.addEventListener("input",()=>{array[selected][2]=blur.value+"px",updateCode(),labels[2].innerHTML=blur.value}),spread.addEventListener("input",()=>{array[selected][3]=spread.value+"px",updateCode(),labels[3].innerHTML=spread.value}),color.addEventListener("input",()=>{array[selected][4]=color.value,updateCode(),labels[4].innerHTML=color.value}),insetBtn.addEventListener("click",()=>{array[selected][5]?(array[selected][5]=!1,updateCode()):(array[selected][5]=!0,updateCode()),labels[5].innerHTML=array[selected][5]})